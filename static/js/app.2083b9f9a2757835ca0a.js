webpackJsonp([0],[,,,,,,function(a,b,c){"use strict";function d(a){return{code:a,pluginAlias:"source",visitorType:"enter",size:c.i(j.a)(new Blob([a],{type:"text/plain"}).size)}}var e=c(3),f=c(55),g=c(34),h=c.n(g),i=c(18),j=c(19),k=c(20),l=c(56),m=c.n(l);e.a.use(f.a);const n=new h.a(m()());b.a=new f.a.Store({strict:!0,state:{current:0,transitions:[d("")],code:k.a.detail[0].str,options:{presets:["es2015","minify"]},activeNav:0,error:void 0,sw:null,active:0},getters:{availablePresets(){return["es2015","stage-0","stage-1","stage-2","stage-3","minify"]},availableNav(){return[{title:"let\u548Cconst\u547D\u4EE4"},{title:"\u53D8\u91CF\u7684\u7ED3\u6784\u548C\u8D4B\u503C"}]}},mutations:{updateActive(a,b){a.active=b},updateCurrent(a,b){a.transitions.length>=b&&(a.current=b)},updateSource(a,b){a.error&&(a.error=void 0),a.transitions[0]=d(b)},updateCode(a,b){a.error&&(a.error=void 0),a.code=b},updateNavCode(a,b){a.code=k.a.detail[b].str},updatePresets(a,b){a.options.presets=[...b]},clearTransitions(a){a.transitions=[a.transitions[0]],a.current=0},receiveResult(a,b){a.transitions=b},addError(a,b){a.error=b},removeError(a){a.error=void 0},setSw(a,b){a.sw=b},removeSw(a){a.sw=null}},actions:{error({commit:a},b){a("addError",b),setTimeout(()=>{a("removeError")},5e3)},compile({commit:a,state:b,dispatch:d}){a("clearTransitions"),console.log(c.i(i.a)(b.code));const e={source:c.i(i.a)(b.code),options:b.options};return console.log(e.source),n.postMessage(e,[e.source]).then((b)=>{const d=b.transitions.map(({code:a,pluginAlias:b,visitorType:d,currentNode:e,size:f})=>({code:c.i(i.b)(a),pluginAlias:b,visitorType:d,currentNode:e,size:c.i(j.a)(new Blob([a],{type:"text/plain"}).size)}));return console.log(d),a("receiveResult",d),d}).catch((a)=>{d("error",a.message)})},changeCode({commit:a,state:b}){a("updateCode",b.code)},registerSw({commit:a}){navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js").then((b)=>{a("setSw",b)})},clearCaches(){if(caches)return caches.keys().then((a)=>Promise.all(a.map((a)=>caches.delete(a)))).then(()=>console.log("All caches removed")).catch((a)=>console.error(a))},unregisterSw({state:a,commit:b}){if(a.sw)return a.sw.unregister().then((a)=>{a?(console.log("ServiceWorker unregistered"),b("removeSw")):console.error(new Error("UnRegistering ServiceWorker failed"))})}}})},function(a,b,c){var d=c(0)(c(9),c(46),function(){this.$style=c(23)},null,null);a.exports=d.exports},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(2);c(21),b["default"]={props:{value:{type:String,default:""},options:{type:Object,default:function(){return{mode:"text/javascript",lineNumbers:!0,lineWrapping:!0}}}},data:function(){return{skipNextChangeEvent:!1}},ready:function(){var a=this;this.editor=d.fromTextArea(this.$el.querySelector("textarea"),this.options),this.editor.setValue(this.value),this.editor.on("change",function(b){return a.skipNextChangeEvent?void(a.skipNextChangeEvent=!1):void(a.value=b.getValue(),!!a.$emit&&a.$emit("change",b.getValue()))})},mounted:function(){var a=this;this.editor=d.fromTextArea(this.$el.querySelector("textarea"),this.options),this.editor.setValue(this.value),this.editor.on("change",function(b){return a.skipNextChangeEvent?void(a.skipNextChangeEvent=!1):void(!!a.$emit&&(a.$emit("change",b.getValue()),a.$emit("input",b.getValue())))})},watch:{value:function(a){var b=this.editor.getValue();if(a!==b){this.skipNextChangeEvent=!0;var c=this.editor.getScrollInfo();this.editor.setValue(a),this.editor.scrollTo(c.left,c.top)}},options:function(a){if("object"==typeof a)for(var b in a)a.hasOwnProperty(b)&&this.editor.setOption(b,a[b])}},beforeDestroy:function(){this.editor&&this.editor.toTextArea()}}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(41),e=c.n(d),f=c(39),g=c.n(f),h=c(42),i=c.n(h),j=c(38),k=c.n(j),l=c(44),m=c.n(l),n=c(40),o=c.n(n),p=c(43),q=c.n(p);b["default"]={name:"app",props:["title"],components:{Layout:e.a,Editor:g.a,Modified:i.a,Controls:k.a,Slider:m.a,Errors:o.a,Navigation:q.a}}},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b["default"]={name:"controls",data(){return{}},computed:{allPresets(){return this.$store.getters.availablePresets},presets:{get(){return this.$store.state.options.presets},set(a){this.$store.commit("updatePresets",a)}}},methods:{compile(){this.$store.dispatch("compile")},clear(){this.$store.dispatch("unregisterSw"),this.$store.dispatch("clearCaches")}}}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(5),e=c.n(d),f=c(4),g=c.n(f);b["default"]={data(){return{editorOptions:{mode:"javascript",tabSize:2,lineNumbers:!0,line:!0,foldGutter:!0,lineWrapping:!0}}},computed:{code:{get(){return this.$store.state.transitions[this.$store.state.current].code},set(a){this.$store.commit("updateSource",a)}}},components:{codemirror:d.codemirror}}},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b["default"]={data(){return{}},computed:{error(){return this.$store.state.error}},methods:{clear(){this.$store.commit("removeError")}}}},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b["default"]={name:"app-layout",props:["title"]}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(5),e=c.n(d),f=c(4),g=c.n(f);b["default"]={data(){return{editorOptions:{mode:"javascript",tabSize:2,lineNumbers:!0,line:!0,foldGutter:!0,lineWrapping:!0}}},computed:{code:{get(){return this.$store.state.code},set(a){this.$store.commit("updateCode",a)}}},components:{codemirror:d.codemirror}}},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b["default"]={name:"navigation",methods:{selectActive(a){console.log(a),this.$store.commit("updateActive",a),this.$store.commit("updateNavCode",a)}},created(){},data(){return{}},computed:{allNavList(){return this.$store.getters.availableNav},active(){return this.$store.state.active}}}},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b["default"]={name:"slider",methods:{selectItem(a){this.$store.commit("updateCurrent",a)}},computed:{currentSize(){return this.$store.state.transitions[this.current].size},currentPlugin(){return this.$store.state.transitions[this.current].pluginAlias},currentVisitor(){const a=this.$store.state.transitions[this.current],b=a.currentNode||"File";return b+" "+a.visitorType},current(){return this.$store.state.current},items(){return this.$store.state.transitions}}}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(3),e=c(7),f=c.n(e),g=c(6);d.a.config.productionTip=!1,new d.a({el:"#app",template:"<App :title='title'/>",store:g.a,data(){return{title:"Babel Time Travel"}},components:{App:f.a}}),g.a.dispatch("registerSw")},function(a,b){"use strict";b.b=function(a){return String.fromCharCode.apply(null,new Uint16Array(a))},b.a=function(a){for(var b=new ArrayBuffer(2*a.length),c=new Uint16Array(b),d=0,e=a.length;d<e;d++)c[d]=a.charCodeAt(d);return b}},function(a,b){"use strict";b.a=function(a){let b;if(c.forEach((c,d)=>{const e=Math.pow(1024,d);let f;a>=e&&(f=(a/e).toFixed(1)+"",f.indexOf(".0")===f.length-2&&(f=f.slice(0,-2)),b=`${f} ${c}`)}),!b){const a=c[0];b=`0 ${a}`}return b};const c=["Bytes","kB","MB","GB","TB","PB","EB"]},function(a,b){"use strict";b.a={detail:[{str:"let a = 1;\nconst b = 2;"},{str:"class Foo{}"},{str:"class Foo{}"}]}},function(){},function(a){a.exports={controls:"_3g6LuiPNi1qf3tfPA5Z8a__0",container:"_36Mqdy4NBlGH5ZZaljQ9x7_0",control:"_3rvHJzA93KHFpOCWUblWIq_0"}},function(){},function(a){a.exports={errorContainer:"iWyvGZqlTriMf5lsUxqon_0",error:"_3Cyi4oBX4JMm2kOvAsK1lB_0",close:"vzkAw1NyUKQYf16wosGgA_0"}},function(a){a.exports={container:"_744pS-a57YVCvQF08sCsP_0",info:"_1RGSdWJzEBv-qMWEqtr2bp_0",plugin:"_3OdMmf4uLHRMAIiKRW5ujD_0",visitor:"_2fy6m9MBuVg6ICfiq-IKN0_0",slider:"_3XBXmzpXYON0eYfYL9r3ep_0",sliderItem:"_3n3Y-XwZxE1ffJLNrdW-vP_0",current:"_1HRL1FFOWxraoy-Kg76WfG_0"}},function(a){a.exports={navigation:"_1U_C4ABPtKkz7eaBv0cyhs_0",active:"_1MQ60TUwEaddMPzSFsk4RS_0"}},function(a){a.exports={container:"_22eG_WBqnprXlUbOp07jRC_0",header:"_10oOXMqq1EifSnI_QNMgXb_0",headerItem:"_3ukGTnEMo6FQgjv0DQkvoC_0",main:"_2YNdSbNv3LNb9fcVNCgG94_0",navigation:"G5UlK2JP9_5GcgFRRKMQ6_0",content:"_2rdFifwO9RXcucOiAaG2xx_0",controls:"_29LEZdKAVrG3osynfejkyk_0",slider:"_3KTCH5Gj7MbuH6NHQ6u2Iz_0",editor:"_2-5-7bsXU2s0U5giYhQ68G_0",result:"_28o5HeD6DcLINwoAmp2ee9_0",errors:"qxzHgQz5AmLT-DM0ejvTu_0"}},function(){},function(){},function(){},,,,,,,function(a,b,c){var d=c(0)(c(8),c(49),function(){c(29)},null,null);a.exports=d.exports},function(a,b,c){var d=c(0)(c(10),c(45),function(){this.$style=c(22)},null,null);a.exports=d.exports},function(a,b,c){var d=c(0)(c(11),c(48),function(){c(28)},null,null);a.exports=d.exports},function(a,b,c){var d=c(0)(c(12),c(47),function(){this.$style=c(24)},null,null);a.exports=d.exports},function(a,b,c){var d=c(0)(c(13),c(53),function(){this.$style=c(27)},null,null);a.exports=d.exports},function(a,b,c){var d=c(0)(c(14),c(50),function(){c(30)},null,null);a.exports=d.exports},function(a,b,c){var d=c(0)(c(15),c(52),function(){this.$style=c(26)},null,null);a.exports=d.exports},function(a,b,c){var d=c(0)(c(16),c(51),function(){this.$style=c(25)},null,null);a.exports=d.exports},function(a){a.exports={render:function(){var a=this,b=a.$createElement,c=a._self._c||b;return c("div",{class:a.$style.controls},[c("div",{class:a.$style.container},a._l(a.allPresets,function(b,d){return c("div",{key:d,class:a.$style.control},[c("input",{directives:[{name:"model",rawName:"v-model",value:a.presets,expression:"presets"}],attrs:{type:"checkbox",id:b+d},domProps:{value:b,checked:Array.isArray(a.presets)?-1<a._i(a.presets,b):a.presets},on:{change:function(c){var d=a.presets,e=c.target,f=!!e.checked;if(Array.isArray(d)){var g=b,h=a._i(d,g);e.checked?0>h&&(a.presets=d.concat([g])):-1<h&&(a.presets=d.slice(0,h).concat(d.slice(h+1)))}else a.presets=f}}}),a._v(" "),c("label",{attrs:{for:b+d}},[a._v(a._s(b))])])}),0),a._v(" "),c("div",{class:a.$style.container},[c("button",{class:a.$style.button,on:{click:a.compile}},[a._v("Compile")]),a._v(" "),c("button",{class:a.$style.button,attrs:{title:"Purge Caches and unregister ServiceWorker"},on:{click:a.clear}},[a._v("\n      Purge\n    ")])])])},staticRenderFns:[]}},function(a){a.exports={render:function(){var a=this,b=a.$createElement,c=a._self._c||b;return c("Layout",{attrs:{title:a.title}},[c("Editor",{attrs:{slot:"editor"},slot:"editor"}),a._v(" "),c("Modified",{attrs:{slot:"modified"},slot:"modified"}),a._v(" "),c("Slider",{attrs:{slot:"slider"},slot:"slider"}),a._v(" "),c("Controls",{attrs:{slot:"controls"},slot:"controls"}),a._v(" "),c("Errors",{attrs:{slot:"errors"},slot:"errors"}),a._v(" "),c("Navigation",{attrs:{slot:"navigation"},slot:"navigation"})],1)},staticRenderFns:[]}},function(a){a.exports={render:function(){var a=this,b=a.$createElement,c=a._self._c||b;return a.error?c("div",{class:a.$style.errorContainer},[c("div",{class:a.$style.error},[c("pre",[a._v(a._s(a.error)+" "),c("br"),c("br"),a._v("Check console for more details")])]),a._v(" "),c("button",{class:a.$style.close,on:{click:a.clear}},[a._v("X")])]):a._e()},staticRenderFns:[]}},function(a){a.exports={render:function(){var a=this,b=a.$createElement,c=a._self._c||b;return c("codemirror",{attrs:{options:a.editorOptions},model:{value:a.code,callback:function(b){a.code=b},expression:"code"}})},staticRenderFns:[]}},function(a){a.exports={render:function(){var a=this,b=a.$createElement,c=a._self._c||b;return a._m(0)},staticRenderFns:[function(){var a=this,b=a.$createElement,c=a._self._c||b;return c("div",{staticClass:"vue-codemirror-wrap"},[c("textarea")])}]}},function(a){a.exports={render:function(){var a=this,b=a.$createElement,c=a._self._c||b;return c("codemirror",{attrs:{options:a.editorOptions},model:{value:a.code,callback:function(b){a.code=b},expression:"code"}})},staticRenderFns:[]}},function(a){a.exports={render:function(){var a=this,b=a.$createElement,c=a._self._c||b;return c("div",{class:a.$style.container},[c("div",{class:a.$style.slider},a._l(a.items,function(b,d){var e;return c("div",{key:b.id,class:(e={},e[a.$style.sliderItem]=!0,e[a.$style.current]=d===a.current,e),on:{mouseover:function(){return a.selectItem(d)}}},[a._v("\n      "+a._s(d)+"\n    ")])}),0),a._v(" "),c("div",{class:a.$style.info},[a._v("\n    Current Plugin:\n    "),c("span",{class:a.$style.plugin},[a._v(a._s(a.currentPlugin))]),a._v(", Current Visitor:\n    "),c("span",{class:a.$style.visitor},[a._v(a._s(a.currentVisitor))]),a._v(", Size:\n    "),c("span",{class:a.$style.visitor},[a._v(a._s(a.currentSize))])])])},staticRenderFns:[]}},function(a){a.exports={render:function(){var a=this,b=a.$createElement,c=a._self._c||b;return c("div",{class:a.$style.navigation},[c("ul",a._l(a.allNavList,function(b,d){var e;return c("li",{key:d,class:(e={},e[a.$style.active]=d===a.active,e),on:{click:function(){return a.selectActive(d)}}},[a._v("\n           "+a._s(b.title)+"\n        ")])}),0)])},staticRenderFns:[]}},function(a){a.exports={render:function(){var a=this,b=a.$createElement,c=a._self._c||b;return c("div",{class:a.$style.container},[c("header",{class:a.$style.header},[c("h1",{class:a.$style.headerItem},[a._v(a._s(a.title))]),a._v(" "),c("div",{class:a.$style.headerItem}),a._v(" "),c("div",{class:a.$style.controls},[a._t("controls")],2)]),a._v(" "),c("main",{class:a.$style.main},[c("div",{class:a.$style.navigation},[a._t("navigation")],2),a._v(" "),c("div",{class:a.$style.content},[c("div",{class:a.$style.editor},[a._t("modified")],2),a._v(" "),c("div",{class:a.$style.errors},[a._t("errors")],2)]),a._v(" "),c("div",{class:a.$style.result},[c("div",{class:a.$style.editor},[a._t("editor")],2),a._v(" "),c("div",{class:a.$style.slider},[a._t("slider")],2)])])])},staticRenderFns:[]}},,,function(a,b,c){a.exports=function(){return new Worker(c.p+"196b7e4740f8c0f6834f.worker.js")}}],[17]);